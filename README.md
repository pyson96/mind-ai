AI를 활용한 영상 생성 프롬프트 작성 및 수정 시스템입니다.  
FastAPI 서버와 Streamlit 프론트엔드로 구성되어 있으며, 사용자 입력을 기반으로 AI 프롬프트를 생성하고, 수정 기록(Diff)을 관리합니다.

# 전체 시스템 워크플로우

---

# 1. 서버 (FastAPI)

## 1-1. 준비

- FastAPI 프로젝트 초기화
- `uvicorn` 설치 및 서버 실행 설정

## 1-2. 주요 기능 구성

- `/generate-prompt`
    
    ➔ 사용자 자연어 입력을 받아 카메라/무브먼트/조명을 조합한 프롬프트 생성
    
- `/save-diff`
    
    ➔ 수정 전/후 텍스트를 받아 Diff(차이) 저장
    
- `/retrieve_similar_prompt`
    
    ➔ 비슷한 요청이 있으면 추천 프롬프트 제공 : 현재는 랜덤하게 표출됩니다
    

## 1-3. 내부 로직

- **프롬프트 생성**:
    - 유저 입력을 기반으로
    - 카메라 무브먼트, 조명 스타일 랜덤 조합
    - 최종 프롬프트 출력
- **Diff 저장**:
    - 수정 전/후 비교
    - 단어 단위 Diff 분석

---

# 2. 화면 (Streamlit)

## 2-1. 준비

- Streamlit 기본 설치
- 싱글 페이지 구조 유지 (`app.py`)

## 2-2. 주요 기능 구성

- 자연어 입력창 제공
- "프롬프트 생성" 버튼
- 생성된 프롬프트 수정 가능
- "수정 완료 및 저장" 버튼
- Diff 결과 하이라이트 표시 (추가: 파란색, 삭제: 빨간색+취소선)
- 수정 완료 시 AI 생성 영상 재생 ( 현재는샘플 `BigBuckBunny` 영상)

## 2-3. 내부 흐름

- **프롬프트 생성 버튼 클릭** → `/generate-prompt` API 호출 → 생성 결과 받아오기
- **수정 완료 버튼 클릭** → `/save-diff` API 호출 → 수정 기록 저장
- **Diff 결과 표시** → 수정된 부분 하이라이트
- **결과 영상 재생** → 현재는 샘플 영상 URL로 PLAY

---

# 프로젝트 흐름

```
[사용자 입력]
    ↓
[Streamlit 프롬프트 생성 요청 (/generate-prompt)]
    ↓
[FastAPI 서버 프롬프트 생성]
    ↓
[Streamlit 화면에 출력 + 수정가능]
    ↓
[수정 후 저장 버튼 클릭]
    ↓
[Streamlit 수정내용 저장 요청 (/save-diff)]
    ↓
[FastAPI 서버 Diff 분석 및 저장]
    ↓
[Streamlit 화면에 Diff 하이라이트 표시]
    ↓
[결과 영상 플레이]

```

---
